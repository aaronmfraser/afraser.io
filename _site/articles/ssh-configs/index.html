<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>SSH and you &#8211; Aaron Fraser</title>
<meta name="description" content="how to make ssh easier">
<meta name="keywords" content="sysops, ssh">
<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://0.0.0.0:4000/images/mba-coffee-trim.jpg">

<meta name="twitter:title" content="SSH and you">
<meta name="twitter:description" content="how to make ssh easier">
<meta name="twitter:creator" content="@aaronmfraser">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="SSH and you">
<meta property="og:description" content="how to make ssh easier">
<meta property="og:url" content="http://0.0.0.0:4000/articles/ssh-configs/">
<meta property="og:site_name" content="Aaron Fraser">





<link rel="canonical" href="http://0.0.0.0:4000/articles/ssh-configs/">
<link href="http://0.0.0.0:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Aaron Fraser Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://0.0.0.0:4000/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="http://0.0.0.0:4000/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://0.0.0.0:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://0.0.0.0:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/site-logo-32.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://0.0.0.0:4000/images/site-logo-72.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://0.0.0.0:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://0.0.0.0:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://0.0.0.0:4000">Aaron Fraser</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="http://0.0.0.0:4000/about/" >About</a></li>
		        
				<li><a href="http://0.0.0.0:4000/posts/" >Posts</a></li>
		        
				<li><a href="http://photos.afraser.io" target="_blank">Photos</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="http://0.0.0.0:4000/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->

<div class="image-wrap">
  <img src="http://0.0.0.0:4000/images/mba-coffee-trim.jpg" alt="SSH and you feature image">
  
</div><!-- /.image-wrap -->

<div id="main" role="main">
  <div class="article-author-side">
    <img src="http://0.0.0.0:4000/images/bio-photo.jpeg" class="bio-photo" alt="Aaron Fraser bio photo"></a>
<h3>Aaron Fraser</h3>
<p>syseng</p>
<a href="http://twitter.com/aaronmfraser" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>


<a href="http://linkedin.com/in/aaronmfraser" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>

<a href="http://github.com/aaronmfraser" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>


  </div>
  <article>
    <div class="headline-wrap">
      <h1>SSH and you</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>Recently been spending alot of time working on side projects for friends and past employers. The number of servers that needs my attention has increased and each of them have separate usernames and ssh keys. To manage this I was using shell aliases </p>

<div class="highlight"><pre><code class="bash"><span class="nb">alias </span><span class="nv">mysrvr</span><span class="o">=</span><span class="s2">&quot;ssh -i ~/.ssh/mysrvr.priv root@mysrvr.afraser.io&quot;</span>
</code></pre></div>

<p>These worked great and all but I still didnt have an easy way to scp files. Trying to make an alias dynamic enough to be able to scp was a pain (and a useless waste of time..)
Then one day I was exploring this issue and found ssh configs. They proved to be far more powerful. Soon I replaced all my aliases with an ssh_config</p>

<div class="highlight"><pre><code class="bash">Host c1-dev
   HostName client1-server01.test.co
   User root
   IdentityFile ~/.ssh/client1.pem
Host c2-dev01
   HostName client2-server01.anothertest.co
   User root
   IdentityFile ~/.ssh/client2.pem
Host mysrvr
   HostName mysrvr.afraser.io
   User root
   IdentityFile ~/.ssh/mysrvr.priv
</code></pre></div>

<p>I have found situations were having an ssh config wasnt going to work out.If you have servers that are only accessible from a very restricted network and dont support ssh keys for what ever reason there is SSHPASS.</p>

<p><br />
First youâ€™ll need to install it:
<br /></p>

<div class="highlight"><pre><code class="bash">sudo apt-get install sshpass
</code></pre></div>

<p>To use ssh pass its best to have a sourced file with an environment variable:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>cat bastion-login
  <span class="nv">SSH_PASS</span><span class="o">=</span><span class="s2">&quot;some-horribly-insecure-password&quot;</span>

<span class="nv">$ </span><span class="nb">source </span>bastion-login
</code></pre></div>

<p>Once the file is sourced you can then simply prepend sshpass to your standard ssh commands like so:</p>

<div class="highlight"><pre><code class="bash">sshpass -e ssh -o <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no  cloud-user@mysrvr.afraser.io 
</code></pre></div>

<p>In the above example you will see the <code>-o StrictHostKeyChecking=no</code> this simply auto-accepts/ignores the Host Key check you would normally acknowledge for the first connection to the destination server.</p>

<p>Those error typically look like this:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>ssh cloud-users@mysrvr.afraser.io
The authenticity of host <span class="s1">&#39;mysrvr.afraser.io (208.9.150.2)&#39;</span> can<span class="err">&#39;</span>t be established.
RSA key fingerprint is cf:1b:f4:1f:c5:aa:b1:1e:bf:4e:5e:cf:53:fa:a8:73.
Are you sure you want to <span class="k">continue </span>connecting <span class="o">(</span>yes/no<span class="o">)</span>? 
</code></pre></div>

<p>Hopefully this can help make sshing a more pleasurable experience.</p>

      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          <img src="http://0.0.0.0:4000/images/bio-photo.jpeg" class="bio-photo" alt="Aaron Fraser bio photo"></a>
<h3>Aaron Fraser</h3>
<p>syseng</p>
<a href="http://twitter.com/aaronmfraser" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>


<a href="http://linkedin.com/in/aaronmfraser" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>

<a href="http://github.com/aaronmfraser" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>


        </div>
        <p class="byline"><strong>SSH and you</strong> was published on <time datetime="2014-02-24T00:00:00-08:00">February 24, 2014</time> and last modified on <time datetime="2014-02-24">February 24, 2014</time> by <a href="http://0.0.0.0:4000/about" title="About Aaron Fraser">Aaron Fraser</a>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://0.0.0.0:4000/posts/">View all posts</a>)</small></h4>
    <ul>
    
      
      
        
      
      
    
      
      
        
          
        
      
      
      <li><a href="http://0.0.0.0:4000/articles/razor-windows/" title="Razor and Windows">Razor and Windows</a></li>
      
    
      
      
        
          
        
      
      
      <li><a href="http://0.0.0.0:4000/articles/diastatic-malt-powder/" title="Diastatic Malt Powder">Diastatic Malt Powder</a></li>
      
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2014 Aaron Fraser. Using <a href="http://wiki.nginx.org/Main">Nginx</a>, <a href="http://jekyllrb.com/">Jekyll</a> & <a href="http://github.com/mmistakes/minimal-mistakes/">minimal-mistakes</a></span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://0.0.0.0:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://0.0.0.0:4000/assets/js/scripts.min.js"></script>
	        

</body>
</html>